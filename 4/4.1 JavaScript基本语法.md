## 4.1 JavaScript基本语法
本章我们讲讨论JavaScript的基本语法，主要是以下几个方面：对象，函数，数组。

### 4.1.1 对象
对象是可变的键控集合，在JavaScript中，一切都是对象：数组，函数等。JavaScript中对象是无类别的，它对新属性的名字和值没有约束。对象可以通过原型共享属性，使用原型链来继承其他对象的属性。对象拥有一个到原型对象的隐藏连接，对象字面量产生的对象连接到Object.prototype。

### 4.1.2 数组
数组是一段线性分配的内存，它通过整数去计算偏移并访问其中元素。而JavaScript中并没有这种数据结构，而是提供了类数组特性的对象。它把数组的下标转变为字符串，用其作为属性。属性的检索和更新的方式与对象一模一样，除了有一个可以用整数作为属性名的特性。数组有它们自己的字面量格式，还有一些内置方法。
```
var nums = ['zero', 'one'...'nine'];
```
数组的第一个值将获得属性名0，第二个值将获得属性名1，依次类推。

需要注意的是：length是数组的最大整数属性名加1，它不一定等于数组中属性的个数。（这一点和Java类似）

### 4.1.3 函数
在Javascript中，函数就是对象。函数对象连接到Function.prototype（该原型对象本身连接到Object.prototype)。
函数在创建时附有两个隐藏的属性：函数的上下文和实现函数行为的代码。
每个函数对象在创建时也带有一个prototype属性，它是一个拥有constructor属性且值即为该函数的对象。

函数被调用时接收两个附加的参数：this和arguments。在Javascript中一共四种调用模式：方法、函数、构造器和apply，这些模式在初始化this上存在差异，关于this这里不再详述，后面会专门谈论this问题。

#### 函数声明和函数表达式
在JavaScript中，创建函数的最常用的两个方法是函数表达式和函数声明，其中函数声明必须带有标示符（Identifier，函数名称），而函数表达式则可以省略这个标示符。
1. 函数声明：function 函数名称 (参数：可选){ 函数体 }
2. 函数表达式：function 函数名称（可选）(参数：可选){ 函数体 }

因此如果不声明函数名称，它肯定是函数表达式。但是如果声明了函数名称的话，该如何判断是函数声明还是函数表达式呢？JavaScript是通过上下文来区分的，
如果function foo(){}是作为赋值表达式的一部分的话，那它就是一个函数表达式；如果function foo(){}被包含在一个函数体内，或者位于程序的最顶部的话，那它就是一个函数声明。
```JavaScript
function foo() {} // 声明，因为它是程序的一部分
var bar = function foo() {}; // 表达式，因为它是赋值表达式的一部分

new function bar() {}; // 表达式，因为它是new表达式

(function() {
  function bar() {} // 声明，因为它是函数体的一部分
})();
```
注意：函数声明只能出现在程序或函数体内，不能出现在Block块中，例如if、while或for语句中；而函数表达式可以出现Block中。

#### 立即调用函数表达式
立即调用函数表达式有以下两种写法：
```JavaScript
(function (arguments) { /* code */ } (arguments)); // 推荐使用这个
(function (arguments) { /* code */ })(arguments); // 但是这个也是可以用的
```
